# 센서 보정 방법

센서의 정확도를 유지하기 위한 보정(캘리브레이션) 절차와 방법을 설명합니다.

## 보정의 필요성

### 센서 오차 원인
- **제조 오차**: 센서 제조 시 발생하는 오차
- **노화**: 시간 경과에 따른 센서 성능 저하
- **환경 영향**: 온도, 습도 등 환경 변화에 따른 오차
- **드리프트**: 장기 사용 시 기준점 변화

### 보정 목적
- **정확도 향상**: 측정 값의 정확도 개선
- **일관성 유지**: 여러 센서 간 측정 값 일관성
- **신뢰성 확보**: 장기적 신뢰성 유지

## 보정 방법

### 1. 온도 센서 보정

#### 2점 보정법
1. **0℃ 기준점**: 얼음-물 혼합물 (0℃)
2. **100℃ 기준점**: 끓는 물 (100℃, 해수면 기준)
3. **보정 공식 적용**: 선형 보정 공식 계산

```python
# 보정 공식 예시
corrected_value = raw_value * scale_factor + offset
```

#### 보정 절차
1. 기준 온도 환경 준비
2. 센서를 기준 환경에 노출
3. 안정화 대기 (5~10분)
4. 측정 값 기록
5. 보정 계수 계산
6. 시스템에 보정 값 적용

### 2. 습도 센서 보정

#### 기준점 보정
- **0% RH**: 건조제 사용 (실리카겔 등)
- **100% RH**: 포화 수증기 환경
- **75% RH**: 염화나트륨 포화 용액 (상대습도 75%)

#### 보정 절차
1. 기준 습도 환경 준비
2. 센서 안정화 대기 (30분~1시간)
3. 측정 값 기록
4. 보정 계수 계산 및 적용

### 3. CO₂ 센서 보정

#### 자동 보정 (ABC - Automatic Baseline Correction)
- **주기적 자동 보정**: 주기적으로 대기 중 CO₂ 농도(약 400ppm)로 자동 보정
- **수동 보정**: 기준 가스(400ppm, 1000ppm 등)를 사용한 수동 보정

#### 보정 절차
1. 기준 CO₂ 농도 가스 준비
2. 센서에 기준 가스 노출
3. 안정화 대기 (5~10분)
4. 보정 명령 실행
5. 보정 값 저장

### 4. 토양 수분 센서 보정

#### 볼륨트릭 보정
1. **건조 상태**: 완전 건조한 배지/토양 (0% VWC)
2. **포화 상태**: 완전 포화된 배지/토양 (100% VWC)
3. **중간 점**: 알려진 수분 함량 샘플

#### 보정 절차
1. 건조 샘플 준비 및 측정
2. 포화 샘플 준비 및 측정
3. 중간 점 샘플 측정 (선택)
4. 보정 곡선 작성
5. 보정 계수 적용

### 5. EC 센서 보정

#### 표준 용액 보정
- **낮은 EC**: 0.1413 mS/cm (1413 μS/cm) 표준 용액
- **높은 EC**: 12.88 mS/cm 표준 용액

#### 보정 절차
1. 표준 용액 준비
2. 센서를 표준 용액에 담금
3. 안정화 대기
4. 보정 명령 실행
5. 보정 값 저장

## 보정 주기

### 권장 보정 주기
- **온도/습도**: 6개월 ~ 1년
- **CO₂**: 3개월 ~ 6개월 (ABC 기능 있으면 연장 가능)
- **토양 수분/EC**: 1년 ~ 2년
- **조도**: 1년 ~ 2년

### 보정 시점
- **초기 설치 시**: 필수 보정
- **정기 보정**: 권장 주기마다 보정
- **이상 징후 발견 시**: 측정 값 이상 시 즉시 보정
- **환경 변화 후**: 센서 이동 또는 환경 변화 후

## 보정 값 적용

### 시스템 설정
1. **보정 계수 입력**: Dashboard 또는 설정 파일에 보정 계수 입력
2. **자동 적용**: 시스템에서 자동으로 보정 값 적용
3. **검증**: 보정 후 측정 값 검증

### 보정 공식
```python
# 일반적인 선형 보정
corrected = (raw - offset) * scale

# 2점 보정
scale = (reference_high - reference_low) / (raw_high - raw_low)
offset = reference_low - raw_low * scale
```

## 보정 기록 관리

### 기록 항목
- **보정 일자**: 보정 수행 날짜
- **보정 전 값**: 보정 전 측정 값
- **보정 후 값**: 보정 후 측정 값
- **보정 계수**: 적용된 보정 계수
- **보정자**: 보정 수행자
- **다음 보정 예정일**: 다음 보정 예정 날짜

### 기록 저장
- 데이터베이스에 보정 이력 저장
- Dashboard에서 보정 이력 조회 가능
- 보정 알림: 다음 보정 예정일 알림

## 관련 문서

- [환경 센서](./environment-sensors.mdx)
- [작물 센서](./crop-sensors.mdx)
- [데이터 흐름](./data-flow.mdx)

