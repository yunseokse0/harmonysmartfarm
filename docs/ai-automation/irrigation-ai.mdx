# AI 관수 제어

수분 부족 예측을 기반으로 한 지능형 자동 관수 제어 시스템에 대해 설명합니다.

## 개요

AI 관수 제어는 토양 수분 센서 데이터, 기상 데이터, 작물 생육 데이터를 종합 분석하여 최적의 관수 시점과 양을 자동으로 결정하는 시스템입니다.

## 주요 기능

### 1. 수분 부족 예측

#### 예측 모델
- **시계열 예측**: 과거 데이터 기반 미래 수분 예측
- **머신러닝 모델**: LSTM, GRU 등 시계열 모델
- **물리 모델**: 증발산 모델 기반 예측

#### 예측 요소
- **현재 토양 수분**: 현재 토양 수분 함량
- **증발산량**: 작물 증발산 및 토양 증발
- **기상 조건**: 온도, 습도, 일사량, 풍속
- **작물 생육 단계**: 생육 단계별 수분 소비량

### 2. 최적 관수 시점 결정

#### 결정 기준
- **임계값 기반**: 토양 수분이 임계값 이하로 예측될 때
- **시간대 최적화**: 증발이 적은 시간대 선택 (새벽, 저녁)
- **작물 상태**: 작물 스트레스 지수 고려

#### 관수 시점
- **예방적 관수**: 수분 부족 전 예방적 관수
- **응급 관수**: 급격한 수분 부족 시 즉시 관수
- **스케줄 관수**: 정기적 스케줄 기반 관수

### 3. 관수량 계산

#### 계산 요소
- **목표 수분 함량**: 작물별 최적 수분 함량
- **현재 수분 함량**: 현재 토양 수분 함량
- **토양 특성**: 토양 보수력, 투수성
- **예상 증발산**: 예상 증발산량

#### 관수량 공식
```
관수량 = (목표 수분 - 현재 수분) × 토양 부피 × 보정 계수
```

### 4. 자동 제어

#### 제어 방식
- **완전 자동**: AI가 완전 자동으로 관수 실행
- **승인 필요**: AI 제안 후 사용자 승인 필요
- **수동 제어**: 사용자가 직접 제어

#### 제어 명령
- **관수 밸브 제어**: 관수 밸브 ON/OFF
- **관수 시간 제어**: 관수 시간 설정
- **관수량 제어**: 관수량 조절

## 기술 구조

### 1. 데이터 수집

#### 센서 데이터
- **토양 수분**: 토양 수분 함량 (VWC %)
- **토양 온도**: 토양 온도
- **EC**: 토양 전기 전도도

#### 기상 데이터
- **온도**: 대기 온도
- **습도**: 대기 습도
- **일사량**: 태양 복사량
- **풍속**: 바람 속도

#### 작물 데이터
- **생육 단계**: 현재 생육 단계
- **생육 상태**: AI 분석 기반 생육 상태
- **스트레스 지수**: 수분 스트레스 지수

### 2. 데이터 분석

#### 시계열 분석
- **트렌드 분석**: 수분 변화 트렌드 분석
- **패턴 인식**: 반복 패턴 인식
- **이상 탐지**: 이상 징후 탐지

#### 예측 모델
- **LSTM**: 장단기 메모리 네트워크
- **GRU**: 게이트 순환 유닛
- **Prophet**: Facebook의 시계열 예측 모델

#### 물리 모델
- **Penman-Monteith**: 증발산량 계산
- **토양 수분 모델**: 토양 수분 변화 모델

### 3. 의사결정

#### 규칙 기반
- **IF-THEN 규칙**: 조건 기반 규칙 실행
- **임계값 기반**: 임계값 초과 시 관수

#### 머신러닝 기반
- **강화 학습**: 최적 관수 전략 학습
- **분류 모델**: 관수 필요 여부 분류
- **회귀 모델**: 관수량 예측

### 4. 제어 실행

#### 관수 시스템 제어
- **밸브 제어**: 전자 밸브 ON/OFF
- **펌프 제어**: 관수 펌프 제어
- **노즐 제어**: 관수 노즐 제어

#### 모니터링
- **관수 실행 확인**: 관수 실행 여부 확인
- **관수량 측정**: 실제 관수량 측정
- **효과 확인**: 관수 후 수분 변화 확인

## 활용 사례

### 1. 수분 최적화
- **과도한 관수 방지**: 불필요한 관수 방지로 물 절약
- **수분 부족 방지**: 작물 스트레스 방지
- **균일한 관수**: 구역별 균일한 관수

### 2. 자동화
- **무인 운영**: 자동 관수로 무인 운영 가능
- **시간 절약**: 수동 관수 시간 절약
- **정확한 관수**: 정확한 시점과 양으로 관수

### 3. 데이터 기반 개선
- **관수 패턴 분석**: 관수 패턴 분석 및 개선
- **효율 향상**: 관수 효율 지속적 향상
- **비용 절감**: 물 사용량 감소로 비용 절감

## 성능 지표

### 정확도
- **예측 정확도**: 수분 예측 정확도 (90% 이상)
- **관수 타이밍**: 최적 관수 시점 정확도
- **관수량 정확도**: 관수량 정확도 (±10%)

### 효율성
- **물 사용량 감소**: 기존 대비 20~30% 절감
- **에너지 절감**: 불필요한 관수 방지로 에너지 절감
- **작물 생산성**: 작물 생산성 향상

## 설정 및 튜닝

### 작물별 설정
- **최적 수분 범위**: 작물별 최적 수분 함량 범위
- **관수 주기**: 작물별 권장 관수 주기
- **관수량**: 작물별 권장 관수량

### 환경별 설정
- **토양 특성**: 토양 보수력, 투수성 설정
- **기후 조건**: 지역별 기후 조건 설정
- **시설 조건**: 시설별 관수 시스템 설정

### 학습 및 개선
- **피드백 반영**: 관수 효과 피드백 반영
- **모델 업데이트**: 지속적 모델 업데이트
- **성능 모니터링**: 정기적 성능 평가

## 관련 문서

- [작물 센서](../sensors/crop-sensors.mdx)
- [Rule Builder](../control-system/rule-builder.mdx)
- [액추에이터 제어](../control-system/actuator-control.mdx)

